<load target="./js/config.js" usecdn="true" />
<load target="../install/lang/lang.xml" usecdn="true" />
<load target="../../session/tpl/js/session.js" usecdn="true" />

<div cond="$XE_VALIDATOR_MESSAGE" class="alert alert-block alert-{$XE_VALIDATOR_MESSAGE_TYPE}">
    <button type="button" class="close" data-dismiss="alert">&times;</button>
    <p>{$XE_VALIDATOR_MESSAGE}</p>
</div>

<form action="./" method="post" id="ftp_form" class="form form-horizontal" enctype="multipart/form-data">
    <input type="hidden" name="error_return_url" value="{getUrl('', 'module','admin', 'act', 'dispAdminConfigFtp')}">
    <input type="hidden" name="module" value="install" />
	<input type="hidden" name="act" value="procInstallAdminSaveFTPInfo" />
    <input type="hidden" name="ruleset" value="installFtpInfo" />

    <div class="control-group">
        <label class="control-label" for="ftp_host">{$lang->ftp_host}</label>
        <div class="controls">
            <input type="text" id="ftp_host" name="ftp_host" value="{$ftp_info->ftp_host}">
            <span class="help-inline">Default : 127.0.0.1</span>
            <div class="help-block">
                {$lang->detail_about_ftp_info}
            </div>
        </div>
    </div>
    
    <div class="control-group">
        <label class="control-label" for="ftp_user">{$lang->user_id}</label>
        <div class="controls">
            <input type="text" id="ftp_user" name="ftp_user" value="{$ftp_info->ftp_user}">
        </div>
    </div>

    <div class="control-group">
        <label class="control-label" for="ftp_password">{$lang->password}</label>
        <div class="controls">
            <input type="password" id="ftp_password" name="ftp_password">
            <span class="help-inline">{$lang->about_ftp_password}</span>
        </div>
    </div>

    <div class="control-group">
        <label class="control-label" for="ftp_port">{$lang->ftp_port}</label>
        <div class="controls">
            <input type="text" id="ftp_port" name="ftp_port" value="{$ftp_info->ftp_port}">
            <span class="help-inline">Default: 21</span>
        </div>
    </div>

    <div class="control-group">
        <div class="controls">
            <label class="checkbox" for="ftp_pasv">
                <input type="checkbox" name="ftp_pasv" id="ftp_pasv" value="Y" checked="checked"|cond="$ftp_info->ftp_pasv == 'Y'">
                {$lang->about_use_ftp_passive_mode}
            </label>

            <label class="checkbox" for="sftp">
                <input type="checkbox" name="sftp" id="sftp" value="Y" checked="checked"|cond="$ftp_info->sftp == 'Y'">
                {$lang->about_use_sftp_support}
                <span cond="!$sftp_support">({$lang->disable_sftp_support})</span>
            </label>
        </div>
    </div>

    <div class="control-group">
        <label class="control-label" for="ftp_root_path">{$lang->msg_ftp_installed_ftp_realpath}</label>
        <div class="controls">
            <input type="text" id="ftp_root_path" name="ftp_root_path" value="{$ftp_info->ftp_root_path}">
            <span class="help-inline">
                <a href="#ftpSuggestion" onclick="getFTPList(); return false;" class="tgAnchor">{$lang->ftp_get_list}</a>
            </span>
            <div class="help-block">
                {$lang->msg_ftp_installed_realpath} : {_KARYBU_PATH_}
            </div>
        </div>
    </div>

    <div class="control-group">
        <div class="controls">
            <input type="submit" value="{$lang->cmd_save}" class="btn btn-primary" />
        </div>
    </div>

</form>
