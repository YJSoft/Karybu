<include target="header_nav.html"/>
<div class="container">
    <div class="row-fluid">
        <div class="span10">
            <h3>{$lang->all_apps}</h3>
            <p cond="empty($apps)">{$lang->no_registered_apps}</p>
            <!--@foreach($apps as $app)-->
                <div class="row-fluid">
                    <div class="span2">
                        <img src="{$app->icon->url}">
                    </div>
                    <div class="span6">
                        <label>{$app->title}</label>
                        <label>{$app->version}</label>
                        <p>{$app->description}</p>
                    </div>
                    <div class="span2">
                        <button class="btn btn-warning" title="{$app->error->ios}" cond="$app->status->ios!=PhoneGapBuilder::STATUS_COMPLETE">{$lang->ios_error}</button>
                        <a cond="!empty($app->download->ios_file)" class="btn" href="{$app->download->ios_file}">{$lang->ios_download}</a>
                        <button class="btn btn-warning" title="{$app->error->android}" cond="$app->status->android!=PhoneGapBuilder::STATUS_COMPLETE">{getPlatformBuildStatus('android',$app->status->android)}</button>
                        <a cond="!empty($app->download->android_file)" class="btn" href="{$app->download->android_file}">{$lang->android_download}</a>
                        <button class="btn btn-warning" title="{$app->error->ios}" cond="$app->status->winphone!=PhoneGapBuilder::STATUS_COMPLETE">{getPlatformBuildStatus('winphone',$app->status->winphone)}</button>
                        <a cond="!empty($app->download->winphone_file)" class="btn" href="{$app->download->winphone_file}">{$lang->window_download}</a>
                        <hr>
                        <a class="btn" href="{getUrl('','module',$module,'act','dispMobile_applicationAdminRegisterApp','app_id',$app->id);}">{$lang->edit}</a>
                        <form action="./" method="post" onsubmit="return confirmDeleteApp();">
                            <input type="hidden" name="app_id" value="{$app->id}"/>
                            <input type="hidden" name="act" value="procMobile_applicationAdminDeleteApp"/>
                            <input class="btn btn-danger" type="submit" value="{$lang->delete}"/>
                        </form>
                        <hr>
                        <a class="btn" target="_blank" href="{getUrl('','module',$module,'act','dispMobile_applicationAdminTestApp');}">{$lang->test_app}</a>
                    </div>
                </div>
            <!--@end-->
            <a href="{getNotEncodedUrl('','module',$module,'act','dispMobile_applicationAdminRegisterApp');}" class="btn btn-primary">{$lang->register_app}</a>
        </div>
    </div>
</div>

<script type="text/javascript">
    function confirmDeleteApp(){
        if(confirm('{$lang->confirm_delete_app}')==true){
            return true;
        }
        return false;
    }
</script>

