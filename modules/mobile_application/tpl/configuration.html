<include target="header_nav.html"/>
<div class="container">
    <form action="./" method="post">
        <input type="hidden" name="act" value="procMobile_applicationAdminSaveConfiguration"/>

        <fieldset>
            <div class="row-fluid">
                <div class="span10">
                    <h3>{$lang->phonegap_configuration}</h3>
                    <div class="row-fluid">
                        <div class="span2">
                            <label>{$lang->phonegap_username}</label>
                        </div>
                        <div class="span4">
                            <input type="text" name="phonegap_username" value="{$module_config->phonegap_username}"/>
                        </div>
                    </div>
                    <div class="row-fluid">
                        <div class="span2">
                            <label>{$lang->phonegap_password}</label>
                        </div>
                        <div class="span4">
                            <input type="password" name="phonegap_password" value="{$module_config->phonegap_password}"/>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row-fluid">
                <div class="span10">
                    <br>
                    <input type="submit" class="btn btn-primary" value="{$lang->save}"/>
                </div>
            </div>
        </fieldset>
    </form>
    <div class="row-fluid">
        <div class="span10">
            <h3>{$lang->phonegap_keys}</h3>
            <!--@foreach($keys as $platform =>$value)-->
            <h4>{getPlatformKeyCaption($platform);}</h4>
            <!--@foreach($value as $key)-->
            <div class="row-fluid">
                <div class="span2"></div>
                <div class="span8">
                    <div class="row-fluid">
                        <div class="span10">
                            <label>{$lang->key_title}: {$key->title}</label>
                            <label>{$lang->key_alias}: {$key->alias}</label>
                            <label>{$lang->is_default}: {getBooleanCaption($key->default)}</label>
                            <label>{$lang->is_locked}: {getBooleanCaption($key->locked)}</label>
                        </div>
                        <div class="span2">
                            <a class="btn btn-info" href="{getUrl('','module',$module,'act','dispMobile_applicationAdminKeyConfig','platform',$platform,'key_id',$key->id);}">{$lang->edit_key}</a>
                            <form action="./" method="post" onsubmit="return confirmDeleteApp();">
                                <input type="hidden" name="key_id" value="{$key->id}"/>
                                <input type="hidden" name="platform" value="{$platform}"/>
                                <input type="hidden" name="success_return_url" value="{getUrl('','module',$module,'act','dispMobile_applicationAdminConfig')}"/>
                                <input type="hidden" name="act" value="procMobile_applicationAdminDeleteKey"/>
                                <input class="btn btn-danger" type="submit" value="{$lang->delete}"/>
                            </form>
                        </div>
                    </div>
                    <div class="row-fluid">
                        <div class="span10">
                            <hr>
                        </div>
                    </div>
                </div>

            </div>
            <!--@end-->
            <!--@end-->

            <!--@foreach($supportedKeys as $platform)-->
            <a class="btn btn-info" href="{getUrl('','module',$module,'act','dispMobile_applicationAdminKeyConfig','platform',$platform);}">{getPlatformAddKeyCaption($platform)}</a>
            <!--@end-->
        </div>
    </div>
</div>
<script type="text/javascript">
    function confirmDeleteApp(){
        if(confirm('{$lang->confirm_delete_key}')==true){
            return true;
        }
        return false;
    }
</script>


